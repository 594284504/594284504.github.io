{"version":3,"sources":["webpack:///./src/api/recSongList.js","webpack:///src/components/recommend/songListDetail.vue","webpack:///./src/components/recommend/songListDetail.vue?d3ce","webpack:///./src/components/recommend/songListDetail.vue"],"names":["__webpack_exports__","disstid","data","type","json","utf8","onlysong","new_format","g_tk","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","axios","get","params","then","res","Promise","resolve","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","n","songListDetail","mixins","mixin","components","detailCom","musicDetailPage","computed","_extends","Object","vuex_esm","currentSongList","listInfo","clickSongData","created","this","_getRecSongList","getSongListId","console","log","getSongListData","singer_name","title","singer_pic","cover","methods","handlePlaylist","playlist","bottom","length","$refs","singerDet","style","id","_this","$router","push","recSongList","code","songs","cdlist","songlist","itemSongData","list","_this2","ret","forEach","item","singer_id","singer_mid","singer","mid","name","keyMid","vkey","req_0","midurlinfo","setTimeout","songList","recommend_songListDetail","render","_h","$createElement","_c","_self","ref","staticClass","attrs","singerInfo","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"2EAAAA,EAAA,EAQS,SAAwBC,GAC7B,IACMC,GACFC,KAAK,EACLC,KAAK,EACLC,KAAK,EACLC,SAAS,EACTC,WAAW,EACXN,QAAQA,EACRO,KAAK,KACLC,SAAS,EACTC,QAAQ,EACRC,OAAO,OACPC,UAAU,OACVC,WAAW,QACXC,OAAO,EACPC,SAAS,WACTC,YAAY,GAIhB,OAAOC,IAAMC,IApBD,UAqBRC,OAAOjB,IACRkB,KAAK,SAACC,GACL,OAAOC,QAAQC,QAAQF,EAAInB,SAhCnCsB,EAAA,YAAAC,EAAAD,EAAA,QAAAE,EAAAF,EAAAG,EAAAF,GAAAD,EAAA,4UCmBAI,GACAC,QAAAC,EAAA,GACAC,YACAC,UAAAC,EAAA,GAEAC,SAAAC,KACAC,OAAAC,EAAA,EAAAD,EAAA,qCAEAlC,KARA,WASA,OACAoC,mBACAC,SAAA,KACAC,mBAGAC,QAfA,WAiBAC,KAAAC,gBAAAD,KAAAE,eACAC,QAAAC,IAAAJ,KAAAK,iBACAL,KAAAK,kBACAL,KAAAH,UACAS,YAAAN,KAAAK,gBAAAE,MACAC,WAAAR,KAAAK,gBAAAI,SAKAC,SACAC,eADA,SACAC,GACA,IAAAC,EAAAD,EAAAE,OAAA,YACAd,KAAAe,MAAAC,UAAAC,MAAAJ,UAIAZ,gBAPA,SAOAiB,GAAA,IAAAC,EAAAnB,KACAA,KAAAK,iBACAL,KAAAoB,QAAAC,KAAA,QAEM3B,OAAA4B,EAAA,EAAA5B,CAANwB,GAAAxC,KAAA,SAAAC,GACA,OAAAA,EAAA4C,KAAA,CACA,IAAAC,EAAA7C,EAAA8C,OAAA,GAAAC,SACAvB,QAAAC,IAAAoB,GAEAL,EAAAvB,gBAAAuB,EAAAQ,aAAAH,GACArB,QAAAC,IAAAe,EAAAvB,qBAKA+B,aAtBA,SAsBAC,GAAA,IAAAC,EAAA7B,KACA8B,KA0BA,OAzBAF,EAAAG,QAAA,SAAAC,GAGA,IAAAlC,GACAmC,UAAA,EACAC,WAAAF,EAAAG,OAAA,GAAAC,IACA9B,YAAA0B,EAAAG,OAAA,GAAAE,KACA7B,WAAA,qDAAAwB,EAAAG,OAAA,GAAAC,IAAA,wBAIAP,EAAAS,OAAAN,EAAAI,IACA,IAAAG,EAAA,KACQ7C,OAAAyC,EAAA,EAAAzC,CAARsC,EAAAI,KAAA1D,KAAA,SAAAC,GACA4D,EAAA5D,EAAA6D,MAAAhF,KAAAiF,WAAA,GAAAF,OAGAG,WAAA,WAEAV,EAAAd,IAAAc,EAAAI,KACAN,EAAAT,KAAA3B,OAAAiD,EAAA,EAAAjD,CAAAsC,EAAAO,EAAAzC,KAEA,OAGAgC,KC5Fec,GADEC,OAFjB,WAA0B,IAAaC,EAAb9C,KAAa+C,eAA0BC,EAAvChD,KAAuCiD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,YAAAC,YAAA,kBAA4CH,EAAA,cAAmBI,OAAOC,WAAtJrD,KAAsJH,SAAA6B,SAAtJ1B,KAAsJJ,oBAA0D,IAEzN0D,oBCCjB,IAcAC,EAdyBzE,EAAQ,OAcjC0E,CACEtE,EACA0D,GATF,EAVA,SAAAa,GACE3E,EAAQ,SAaV,kBAEA,MAUexB,EAAA,QAAAiG,EAAiB","file":"static/js/3.792c21ecd07ed38491ec.js","sourcesContent":["import { commonParams,options } from \"./config\"\r\nimport axios from \"axios\"\r\nimport jsonp from '../common/js/jsonp'\r\n// export   function getRecSongList(){\r\n//     const url = 'https://c.y.qq.com/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg?type=1&json=1&utf8=1&onlysong=0&new_format=1&disstid=6844821851&g_tk=5381&loginUin=594284504&hostUin=0&format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0'\r\n//     return jsonp(url,options)\r\n// }\r\n\r\nexport   function getRecSongList(disstid){\r\n    const url = '/api/r'\r\n    const data =  {\r\n        type:1,\r\n        json:1,\r\n        utf8:1,\r\n        onlysong:0,\r\n        new_format:1,\r\n        disstid:disstid,\r\n        g_tk:5381,\r\n        loginUin:0,\r\n        hostUin:0,\r\n        format:'json',\r\n        inCharset:'utf8',\r\n        outCharset:'utf-8',\r\n        notice:0,\r\n        platform:'yqq.json',\r\n        needNewCode:0,\r\n      }\r\n       \r\n    \r\n    return axios.get(url,{\r\n        params:data\r\n    }).then((res)=>{\r\n        return Promise.resolve(res.data) \r\n      \r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/recSongList.js"," <template >\r\n  \r\n  <div class='singer_detail' ref='singerDet'>\r\n       \r\n   \r\n <detail-com :singerInfo='listInfo' :songlist='currentSongList'/>\r\n\r\n \r\n  </div>\r\n \r\n</template>\r\n\r\n<script>\r\n import detailCom from '../music-list/musicDetailPage';\r\n import {mapGetters} from 'vuex'\r\n import {getRecSongList} from '../../api/recSongList';\r\nimport {getSingerDetail,getSongVkey} from '../../api/singer';\r\n import {createSong} from '../../api/songList'\r\nimport {playlistMixin} from '../../common/js/mixin'\r\nexport default {\r\n  mixins:[playlistMixin],\r\n  components:{\r\n     detailCom\r\n  },\r\n  computed:{\r\n      ...mapGetters(['getSongListId','getSongListData'])\r\n  },\r\n  data(){\r\n    return {\r\n      currentSongList:[],\r\n      listInfo:null,\r\n      clickSongData:{}\r\n    }\r\n  },\r\n created(){\r\n  \r\n  this._getRecSongList(this.getSongListId)\r\n   console.log(this.getSongListData)\r\n    if(this.getSongListData){\r\n       this.listInfo={\r\n      singer_name:this.getSongListData.title,\r\n      singer_pic:this.getSongListData.cover\r\n   }\r\n    }\r\n  \r\n },\r\n   methods:{\r\n  handlePlaylist(playlist){\r\n      const bottom = playlist.length>0?'50px':''\r\n      this.$refs.singerDet.style.bottom=bottom\r\n    },\r\n\r\n\r\n    _getRecSongList(id){\r\n          if(!this.getSongListData){\r\n           this.$router.push('/rec')\r\n          }\r\n        getRecSongList(id).then((res)=>{\r\n         if(res.code===0){\r\n           let songs=res.cdlist[0].songlist\r\n           console.log(songs)\r\n           \r\n          this.currentSongList=this.itemSongData(songs)\r\n           console.log(this.currentSongList)\r\n            \r\n                }\r\n           })\r\n     },\r\n     itemSongData(list){\r\n       let ret=[]\r\n       list.forEach(item=>{\r\n       \r\n           \r\n         let clickSongData={\r\n           singer_id:1,\r\n             singer_mid : item.singer[0].mid,\r\n           singer_name : item.singer[0].name,\r\n            singer_pic : `http://y.gtimg.cn/music/photo_new/T001R300x300M000${item.singer[0].mid}.jpg?max_age=2592000`\r\n           }\r\n            \r\n           \r\n         this.keyMid=item.mid\r\n                let vkey=null\r\n              getSongVkey(item.mid).then(res=>{\r\n                vkey=res.req_0.data.midurlinfo[0].vkey\r\n              })\r\n               \r\n              setTimeout(()=>{\r\n                  \r\n              if(item.id && item.mid){\r\n                  ret.push(createSong(item,vkey,clickSongData))\r\n              }\r\n              },400)\r\n              \r\n       })\r\n       return ret\r\n     }\r\n     \r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped lang='stylus' rel='stylesheet/stylus'>\r\n\r\n\r\n.singer_detail\r\n    position:fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 20;\r\n    background-color:#000;\r\n    \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/songListDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singerDet\",staticClass:\"singer_detail\"},[_c('detail-com',{attrs:{\"singerInfo\":_vm.listInfo,\"songlist\":_vm.currentSongList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-356819c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/songListDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-356819c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./songListDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songListDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./songListDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-356819c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./songListDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-356819c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/songListDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}