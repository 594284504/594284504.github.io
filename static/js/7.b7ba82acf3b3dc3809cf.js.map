{"version":3,"sources":["webpack:///src/components/singer-detail/singer_detail.vue","webpack:///./src/components/singer-detail/singer_detail.vue?85d3","webpack:///./src/components/singer-detail/singer_detail.vue"],"names":["singer_detail","mixins","mixin","components","detailPage","musicDetailPage","computed","_extends","Object","vuex_esm","data","singermid","singerDetail","songs","singerInfo","created","this","getSinger","singer_mid","_getSingerDetail","methods","handlePlaylist","playlist","bottom","length","$refs","singerDet","style","e","_this","singer_id","singer","then","res","code","config","console","log","songlist","newSingerDetail","$router","push","list","ret","forEach","item","vkey","mid","req_0","midurlinfo","setTimeout","id","songList","singer_detail_singer_detail","render","_h","$createElement","_c","_self","ref","staticClass","attrs","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0WAmBAA,GACAC,QAAAC,EAAA,GACAC,YACAC,WAAAC,EAAA,GAEAC,SAAAC,KACAC,OAAAC,EAAA,EAAAD,EAAA,eAIAE,KAVA,WAWA,OACAC,UAAA,GACAC,gBACAC,SACAC,gBAIAC,QAnBA,WAqBAC,KAAAL,UAAAK,KAAAC,UAAAC,WACAF,KAAAF,WAAAE,KAAAC,UAEAD,KAAAG,iBAAAH,KAAAL,YAOAS,SACAC,eADA,SACAC,GACA,IAAAC,EAAAD,EAAAE,OAAA,YACAR,KAAAS,MAAAC,UAAAC,MAAAJ,UAEAJ,iBALA,SAKAS,GAAA,IAAAC,EAAAb,KACAA,KAAAC,UAAAa,UAIMtB,OAAAuB,EAAA,EAAAvB,CAANoB,GAAAI,KAAA,SAAAC,GACAA,EAAAC,OAAAC,EAAA,IAEAC,QAAAC,IAAAJ,GAEAJ,EAAAjB,aAAAqB,EAAAF,OAAArB,KAAA4B,SACAT,EAAAhB,MAAAgB,EAAAU,gBAAAN,EAAAF,OAAArB,KAAA4B,UACAF,QAAAC,IAAAR,EAAAhB,UAVAG,KAAAwB,QAAAC,KAAA,SAcAF,gBArBA,SAqBAG,GACA,IAAAC,KAkBA,OAjBAD,EAAAE,QAAA,SAAAC,GAEA,IAAAC,OAAA,EAGQtC,OAAAuB,EAAA,EAAAvB,CAARqC,EAAAE,KAAAf,KAAA,SAAAC,GACAa,EAAAb,EAAAe,MAAAtC,KAAAuC,WAAA,GAAAH,OAEAI,WAAA,WAEAL,EAAAM,IAAAN,EAAAE,KACAJ,EAAAF,KAAAjC,OAAA4C,EAAA,EAAA5C,CAAAqC,EAAAC,KAEA,OAIAH,KCvFeU,GADEC,OAFjB,WAA0B,IAAaC,EAAbvC,KAAawC,eAA0BC,EAAvCzC,KAAuC0C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,YAAAC,YAAA,kBAA4CH,EAAA,eAAoBI,OAAO/C,WAAvJE,KAAuJF,WAAAwB,SAAvJtB,KAAuJH,UAAkD,IAElNiD,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEjE,EACAqD,GATF,EAVA,SAAAa,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/7.b7ba82acf3b3dc3809cf.js","sourcesContent":[" <template >\r\n  \r\n  <div class='singer_detail' ref='singerDet'>\r\n       <detail-page :singerInfo='singerInfo'    :songlist='songs' />\r\n   \r\n \r\n  </div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\n import {ERR_OK} from '../../api/config';\r\nimport {getSingerDetail,getSongVkey} from '../../api/singer';\r\n import {createSong} from '../../api/songList'\r\nimport detailPage from '../music-list/musicDetailPage'\r\n \r\n\r\n import {playlistMixin} from '../../common/js/mixin'\r\nexport default {\r\n  mixins:[playlistMixin],\r\n    components:{\r\n     detailPage\r\n    },\r\n   computed:{\r\n       ...mapGetters(['getSinger']),\r\n       \r\n   },\r\n   \r\n   data(){\r\n       return {\r\n           singermid:'',\r\n           singerDetail:[],\r\n           songs:[] ,\r\n           singerInfo:{},\r\n            \r\n       }\r\n   },\r\n   created(){\r\n      \r\n       this.singermid= this.getSinger.singer_mid\r\n        this.singerInfo=this.getSinger\r\n         \r\n      this._getSingerDetail(this.singermid)\r\n     \r\n    \r\n        \r\n   },\r\n  \r\n   \r\n     methods:{\r\n          handlePlaylist(playlist){\r\n      const bottom = playlist.length>0?'50px':''\r\n      this.$refs.singerDet.style.bottom=bottom\r\n    },\r\n       _getSingerDetail(e){\r\n           if(!this.getSinger.singer_id){\r\n               this.$router.push('/rec')\r\n               return   \r\n           }\r\n           getSingerDetail(e).then(res=>{\r\n               if(res.code === ERR_OK){\r\n                 \r\n               console.log(res)\r\n                \r\n               this.singerDetail=res.singer.data.songlist\r\n               this.songs=this.newSingerDetail(res.singer.data.songlist)\r\n               console.log(this.songs)\r\n               }\r\n           })\r\n       },\r\n       newSingerDetail(list){\r\n            let ret=[]\r\n          list.forEach(item=>{\r\n              \r\n                let vkey \r\n        \r\n        \r\n        getSongVkey(item.mid).then(res=>{\r\n                vkey=res.req_0.data.midurlinfo[0].vkey\r\n              })\r\n              setTimeout(()=>{\r\n          \r\n              if(item.id && item.mid){\r\n                  ret.push(createSong(item,vkey))\r\n              }\r\n              },400)\r\n              \r\n         \r\n          })\r\n          return ret\r\n       },\r\n    \r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped lang='stylus' rel='stylesheet/stylus'>\r\n\r\n\r\n.singer_detail\r\n    position:fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 10;\r\n    background-color:#000;\r\n    \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/singer-detail/singer_detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singerDet\",staticClass:\"singer_detail\"},[_c('detail-page',{attrs:{\"singerInfo\":_vm.singerInfo,\"songlist\":_vm.songs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-18f49af9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer-detail/singer_detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18f49af9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer_detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer_detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer_detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18f49af9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer_detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18f49af9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer-detail/singer_detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}