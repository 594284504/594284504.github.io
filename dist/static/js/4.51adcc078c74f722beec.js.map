{"version":3,"sources":["webpack:///src/components/rank/rankDetail.vue","webpack:///./src/api/rankDetail.js","webpack:///./src/components/rank/rankDetail.vue?e28c","webpack:///./src/components/rank/rankDetail.vue"],"names":["rankDetail","components","musicDetailPage","computed","_extends","Object","vuex_esm","info","this","result","watch","data","rankInfo","currentSongList","created","getRankDetail","$route","params","id","period","methods","e","d","_this","url","jsonp","options","GetRankDetail","then","res","code","singer_name","detail","AdShareContent","singer_pic","mbFrontPicUrl","_getRecSongList","songInfoList","songlist","itemSongData","list","_this2","ret","forEach","item","keyMid","mid","vkey","singer","req_0","midurlinfo","clickSongData","singer_id","singer_mid","name","setTimeout","push","songList","rank_rankDetail","render","_h","$createElement","_c","_self","staticClass","attrs","singerInfo","rank","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2VAaAA,GACAC,YACAD,WAAAE,EAAA,GAEAC,SAAAC,KACAC,OAAAC,EAAA,EAAAD,EAAA,iBACAE,KAFA,WAIA,OAAAC,KAAAC,UAIAC,SAGAC,KAfA,WAgBA,OAEAC,SAAA,KAEAC,gBAAA,KACAJ,YAGAK,QAxBA,WAyBAN,KAAAO,cAAAP,KAAAQ,OAAAC,OAAAC,GAAAV,KAAAQ,OAAAC,OAAAE,SAGAC,SAEAL,cAFA,SAEAM,EAAAC,GAAA,IAAAC,EAAAf,MCxCQ,SAAuBa,EAAEC,GAE9B,IAAME,iVAAmVH,EAAnV,4DAAgZC,EAAhZ,iEAEF,OAAOG,YAAMD,EAAIE,MDsClBC,CAANN,EAAAC,GAAAM,KAAA,SAAAC,GACA,IAAAA,EAAAC,OACAP,EAAAd,QAAAsB,YAAAF,EAAAG,OAAArB,UAAAsB,eACAC,WAAAL,EAAAG,OAAArB,UAAAwB,eAEAZ,EAAAa,gBAAAP,EAAAG,OAAArB,KAAA0B,kBAOAD,gBAhBA,SAgBAE,GAEA9B,KAAAK,gBAAAL,KAAA+B,aAAAD,IAMAC,aAxBA,SAwBAC,GAAA,IAAAC,EAAAjC,KACAkC,KAoBA,OAnBAF,EAAAG,QAAA,SAAAC,GACAH,EAAAI,OAAAD,EAAAE,IACA,IAAAC,EAAA,KACQ1C,OAAA2C,EAAA,EAAA3C,CAARuC,EAAAE,KAAAlB,KAAA,SAAAC,GACAkB,EAAAlB,EAAAoB,MAAAtC,KAAAuC,WAAA,GAAAH,OAEA,IAAAI,GACAC,UAAA,EACAC,WAAAT,EAAAI,OAAA,GAAAF,IACAf,YAAAa,EAAAI,OAAA,GAAAM,KACApB,WAAA,qDAAAU,EAAAI,OAAA,GAAAF,IAAA,wBAEAS,WAAA,WAEAX,EAAA1B,IAAA0B,EAAAE,KACAJ,EAAAc,KAAAnD,OAAAoD,EAAA,EAAApD,CAAAuC,EAAAG,EAAAI,KAEA,OAEAT,KEnFegB,GADEC,OAFjB,WAA0B,IAAaC,EAAbpD,KAAaqD,eAA0BC,EAAvCtD,KAAuCuD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,eAAoBG,OAAOC,WAApI1D,KAAoID,KAAA4D,MAAA,EAAA7B,SAApI9B,KAAoIK,oBAAkE,IAE/MuD,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvE,EACA0D,GATF,EAVA,SAAAc,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.51adcc078c74f722beec.js","sourcesContent":[" <template>\r\n  <div class='rankDetail'>\r\n \r\n    <rank-detail :singerInfo='info' :rank='true' :songlist='currentSongList' />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {GetRankDetail} from '../../api/rankDetail'\r\nimport {mapGetters} from 'vuex'\r\nimport rankDetail from '../music-list/musicDetailPage'\r\nimport {getSingerDetail,getSongVkey} from '../../api/singer';\r\n import {createSong} from '../../api/songList'\r\nexport default {\r\n    components:{\r\n    rankDetail\r\n    },\r\n   computed:{\r\n    ...mapGetters(['getRankList']),\r\n    info(){\r\n       \r\n          return this.result\r\n       \r\n      }\r\n   },\r\n   watch:{\r\n      \r\n   },\r\n   data(){\r\n    return {\r\n        \r\n        rankInfo:null,\r\n         \r\n        currentSongList:null,\r\n        result:{}\r\n    }\r\n   },\r\n   created(){\r\n this.getRankDetail(this.$route.params.id,this.$route.params.period)\r\n   },\r\n \r\n   methods:{\r\n       \r\n       getRankDetail(e,d){\r\n          \r\n          GetRankDetail(e,d).then(res=>{\r\n               if(res.code === 0){ \r\n                   this.result={singer_name:res.detail.data.data.AdShareContent,\r\n                             singer_pic:res.detail.data.data.mbFrontPicUrl  \r\n                   }\r\n                this._getRecSongList(res.detail.data.songInfoList)\r\n              }\r\n             \r\n           })\r\n        \r\n       },\r\n\r\n        _getRecSongList(songlist){\r\n        \r\n          this.currentSongList=this.itemSongData(songlist)\r\n      \r\n            \r\n                },\r\n          \r\n     \r\n     itemSongData(list){\r\n       let ret=[]\r\n       list.forEach(item=>{\r\n         this.keyMid=item.mid\r\n                let vkey=null\r\n              getSongVkey(item.mid).then(res=>{\r\n                vkey=res.req_0.data.midurlinfo[0].vkey\r\n              })\r\n          let clickSongData={\r\n                singer_id:1,\r\n                  singer_mid : item.singer[0].mid,\r\n                singer_name : item.singer[0].name,\r\n                 singer_pic : `http://y.gtimg.cn/music/photo_new/T001R300x300M000${item.singer[0].mid}.jpg?max_age=2592000`\r\n           }\r\n              setTimeout(()=>{\r\n             \r\n              if(item.id && item.mid){\r\n                  ret.push(createSong(item,vkey,clickSongData))\r\n              }\r\n              },400)\r\n       })\r\n       return ret\r\n     }\r\n\r\n   }\r\n   \r\n}\r\n</script>\r\n\r\n<style scoped lang='stylus' rel='stylesheet/stylus'>\r\n .rankDetail\r\n    position:fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    z-index: 20;\r\n    background-color:#000;\r\n    \r\n  \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/rank/rankDetail.vue","import jsonp from '../common/js/jsonp'\r\n import {commonParams,options} from './config'\r\n\r\n export function GetRankDetail(e,d){\r\n\r\n   const url=`https://u.y.qq.com/cgi-bin/musicu.fcg?-=getUCGI1617329197080135&g_tk=5381&loginUin=594284504&hostUin=0&format=json&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0&data=%7B%22detail%22%3A%7B%22module%22%3A%22musicToplist.ToplistInfoServer%22%2C%22method%22%3A%22GetDetail%22%2C%22param%22%3A%7B%22topId%22%3A${e}%2C%22offset%22%3A0%2C%22num%22%3A20%2C%22period%22%3A%22${d}%22%7D%7D%2C%22comm%22%3A%7B%22ct%22%3A24%2C%22cv%22%3A0%7D%7D`\r\n    \r\n       return jsonp(url,options)\r\n   }\n\n\n// WEBPACK FOOTER //\n// ./src/api/rankDetail.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rankDetail\"},[_c('rank-detail',{attrs:{\"singerInfo\":_vm.info,\"rank\":true,\"songlist\":_vm.currentSongList}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c26e616\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rankDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c26e616\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rankDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rankDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rankDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c26e616\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rankDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9c26e616\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rankDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}